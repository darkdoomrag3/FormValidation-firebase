{"ast":null,"code":"var _jsxFileName = \"D:\\\\React-SearchApp\\\\search-app\\\\src\\\\components\\\\pagination\\\\Pagination.js\";\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nconst LEFT_PAGE = 'LEFT';\nconst RIGHT_PAGE = 'RIGHT';\n/**\r\n * Helper method for creating a range of numbers\r\n * range(1, 5) => [1, 2, 3, 4, 5]\r\n */\n\nconst range = (from, to, step = 1) => {\n  let i = from;\n  const range = [];\n\n  while (i <= to) {\n    range.push(i);\n    i += step;\n  }\n\n  return range;\n};\n\nclass Pagination extends Component {\n  constructor(props) {\n    super(props);\n    const {\n      totalRecords = null,\n      pageLimit = 30,\n      pageNeighbours = 0\n    } = props;\n    this.pageLimit = typeof pageLimit === 'number' ? pageLimit : 30;\n    this.totalRecords = typeof totalRecords === 'number' ? totalRecords : 0; // pageNeighbours can be: 0, 1 or 2\n\n    this.pageNeighbours = typeof pageNeighbours === 'number' ? Math.max(0, Math.min(pageNeighbours, 2)) : 0;\n    this.totalPages = Math.ceil(this.totalRecords / this.pageLimit);\n    this.state = {\n      currentPage: 1\n    };\n  }\n\n  render() {\n    if (!this.totalRecords || this.totalPages === 1) return null;\n    const {\n      currentPage\n    } = this.state;\n    const pages = this.fetchPageNumbers();\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      \"aria-label\": \"Countries Pagination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"pagination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, pages.map((page, index) => {\n      if (page === LEFT_PAGE) return React.createElement(\"li\", {\n        key: index,\n        className: \"page-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"page-link\",\n        href: \"#\",\n        \"aria-label\": \"Previous\",\n        onClick: this.handleMoveLeft,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"\\xAB\"), React.createElement(\"span\", {\n        className: \"sr-only\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Previous\")));\n      if (page === RIGHT_PAGE) return React.createElement(\"li\", {\n        key: index,\n        className: \"page-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"page-link\",\n        href: \"#\",\n        \"aria-label\": \"Next\",\n        onClick: this.handleMoveRight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"\\xBB\"), React.createElement(\"span\", {\n        className: \"sr-only\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Next\")));\n      return React.createElement(\"li\", {\n        key: index,\n        className: `page-item${currentPage === page ? ' active' : ''}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"page-link\",\n        href: \"#\",\n        onClick: this.handleClick(page),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, page));\n    }))));\n  }\n\n}\n\nfetchPageNumbers = () => {\n  const totalPages = this.totalPages;\n  const currentPage = this.state.currentPage;\n  const pageNeighbours = this.pageNeighbours;\n  /**\r\n   * totalNumbers: the total page numbers to show on the control\r\n   * totalBlocks: totalNumbers + 2 to cover for the left(<) and right(>) controls\r\n   */\n\n  const totalNumbers = this.pageNeighbours * 2 + 3;\n  const totalBlocks = totalNumbers + 2;\n\n  if (totalPages > totalBlocks) {\n    const startPage = Math.max(2, currentPage - pageNeighbours);\n    const endPage = Math.min(totalPages - 1, currentPage + pageNeighbours);\n    let pages = range(startPage, endPage);\n    /**\r\n     * hasLeftSpill: has hidden pages to the left\r\n     * hasRightSpill: has hidden pages to the right\r\n     * spillOffset: number of hidden pages either to the left or to the right\r\n     */\n\n    const hasLeftSpill = startPage > 2;\n    const hasRightSpill = totalPages - endPage > 1;\n    const spillOffset = totalNumbers - (pages.length + 1);\n\n    switch (true) {\n      // handle: (1) < {5 6} [7] {8 9} (10)\n      case hasLeftSpill && !hasRightSpill:\n        {\n          const extraPages = range(startPage - spillOffset, startPage - 1);\n          pages = [LEFT_PAGE, ...extraPages, ...pages];\n          break;\n        }\n      // handle: (1) {2 3} [4] {5 6} > (10)\n\n      case !hasLeftSpill && hasRightSpill:\n        {\n          const extraPages = range(endPage + 1, endPage + spillOffset);\n          pages = [...pages, ...extraPages, RIGHT_PAGE];\n          break;\n        }\n      // handle: (1) < {4 5} [6] {7 8} > (10)\n\n      case hasLeftSpill && hasRightSpill:\n      default:\n        {\n          pages = [LEFT_PAGE, ...pages, RIGHT_PAGE];\n          break;\n        }\n    }\n\n    return [1, ...pages, totalPages];\n  }\n\n  return range(1, totalPages);\n};\n\nPagination.propTypes = {\n  totalRecords: PropTypes.number.isRequired,\n  pageLimit: PropTypes.number,\n  pageNeighbours: PropTypes.number,\n  onPageChanged: PropTypes.func\n};\nexport default Pagination;","map":{"version":3,"sources":["D:/React-SearchApp/search-app/src/components/pagination/Pagination.js"],"names":["React","Component","Fragment","PropTypes","LEFT_PAGE","RIGHT_PAGE","range","from","to","step","i","push","Pagination","constructor","props","totalRecords","pageLimit","pageNeighbours","Math","max","min","totalPages","ceil","state","currentPage","render","pages","fetchPageNumbers","map","page","index","handleMoveLeft","handleMoveRight","handleClick","totalNumbers","totalBlocks","startPage","endPage","hasLeftSpill","hasRightSpill","spillOffset","length","extraPages","propTypes","number","isRequired","onPageChanged","func"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst LEFT_PAGE = 'LEFT';\r\nconst RIGHT_PAGE = 'RIGHT';\r\n\r\n/**\r\n * Helper method for creating a range of numbers\r\n * range(1, 5) => [1, 2, 3, 4, 5]\r\n */\r\nconst range = (from, to, step = 1) => {\r\n  let i = from;\r\n  const range = [];\r\n\r\n  while (i <= to) {\r\n    range.push(i);\r\n    i += step;\r\n  }\r\n\r\n  return range;\r\n}\r\n\r\n\r\nclass Pagination extends Component {\r\n\r\n\r\n\r\n    \r\n  constructor(props) {\r\n    super(props);\r\n    const { totalRecords = null, pageLimit = 30, pageNeighbours = 0 } = props;\r\n\r\n    this.pageLimit = typeof pageLimit === 'number' ? pageLimit : 30;\r\n    this.totalRecords = typeof totalRecords === 'number' ? totalRecords : 0;\r\n\r\n    // pageNeighbours can be: 0, 1 or 2\r\n    this.pageNeighbours = typeof pageNeighbours === 'number'\r\n      ? Math.max(0, Math.min(pageNeighbours, 2))\r\n      : 0;\r\n\r\n    this.totalPages = Math.ceil(this.totalRecords / this.pageLimit);\r\n\r\n    this.state = { currentPage: 1 };\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    if (!this.totalRecords || this.totalPages === 1) return null;\r\n\r\n    const { currentPage } = this.state;\r\n    const pages = this.fetchPageNumbers();\r\n\r\n    return (\r\n      <Fragment>\r\n        <nav aria-label=\"Countries Pagination\">\r\n          <ul className=\"pagination\">\r\n            { pages.map((page, index) => {\r\n\r\n              if (page === LEFT_PAGE) return (\r\n                <li key={index} className=\"page-item\">\r\n                  <a className=\"page-link\" href=\"#\" aria-label=\"Previous\" onClick={this.handleMoveLeft}>\r\n                    <span aria-hidden=\"true\">&laquo;</span>\r\n                    <span className=\"sr-only\">Previous</span>\r\n                  </a>\r\n                </li>\r\n              );\r\n\r\n              if (page === RIGHT_PAGE) return (\r\n                <li key={index} className=\"page-item\">\r\n                  <a className=\"page-link\" href=\"#\" aria-label=\"Next\" onClick={this.handleMoveRight}>\r\n                    <span aria-hidden=\"true\">&raquo;</span>\r\n                    <span className=\"sr-only\">Next</span>\r\n                  </a>\r\n                </li>\r\n              );\r\n\r\n              return (\r\n                <li key={index} className={`page-item${ currentPage === page ? ' active' : ''}`}>\r\n                  <a className=\"page-link\" href=\"#\" onClick={ this.handleClick(page) }>{ page }</a>\r\n                </li>\r\n              );\r\n\r\n            }) }\r\n\r\n          </ul>\r\n        </nav>\r\n      </Fragment>\r\n    );\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfetchPageNumbers = () => {\r\n\r\n    const totalPages = this.totalPages;\r\n    const currentPage = this.state.currentPage;\r\n    const pageNeighbours = this.pageNeighbours;\r\n\r\n    /**\r\n     * totalNumbers: the total page numbers to show on the control\r\n     * totalBlocks: totalNumbers + 2 to cover for the left(<) and right(>) controls\r\n     */\r\n    const totalNumbers = (this.pageNeighbours * 2) + 3;\r\n    const totalBlocks = totalNumbers + 2;\r\n\r\n    if (totalPages > totalBlocks) {\r\n\r\n      const startPage = Math.max(2, currentPage - pageNeighbours);\r\n      const endPage = Math.min(totalPages - 1, currentPage + pageNeighbours);\r\n\r\n      let pages = range(startPage, endPage);\r\n\r\n      /**\r\n       * hasLeftSpill: has hidden pages to the left\r\n       * hasRightSpill: has hidden pages to the right\r\n       * spillOffset: number of hidden pages either to the left or to the right\r\n       */\r\n      const hasLeftSpill = startPage > 2;\r\n      const hasRightSpill = (totalPages - endPage) > 1;\r\n      const spillOffset = totalNumbers - (pages.length + 1);\r\n\r\n      switch (true) {\r\n        // handle: (1) < {5 6} [7] {8 9} (10)\r\n        case (hasLeftSpill && !hasRightSpill): {\r\n          const extraPages = range(startPage - spillOffset, startPage - 1);\r\n          pages = [LEFT_PAGE, ...extraPages, ...pages];\r\n          break;\r\n        }\r\n\r\n        // handle: (1) {2 3} [4] {5 6} > (10)\r\n        case (!hasLeftSpill && hasRightSpill): {\r\n          const extraPages = range(endPage + 1, endPage + spillOffset);\r\n          pages = [...pages, ...extraPages, RIGHT_PAGE];\r\n          break;\r\n        }\r\n\r\n        // handle: (1) < {4 5} [6] {7 8} > (10)\r\n        case (hasLeftSpill && hasRightSpill):\r\n        default: {\r\n          pages = [LEFT_PAGE, ...pages, RIGHT_PAGE];\r\n          break;\r\n        }\r\n      }\r\n\r\n      return [1, ...pages, totalPages];\r\n\r\n    }\r\n\r\n    return range(1, totalPages);\r\n\r\n\r\n    \r\n  }\r\n\r\n\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nPagination.propTypes = {\r\n  totalRecords: PropTypes.number.isRequired,\r\n  pageLimit: PropTypes.number,\r\n  pageNeighbours: PropTypes.number,\r\n  onPageChanged: PropTypes.func\r\n};\r\n\r\nexport default Pagination;"]},"metadata":{},"sourceType":"module"}